<div class="form-container" style="padding: 24px;">
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ isEditMode ? 'Modificar Micro' : 'Agregar Micro' }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <form [formGroup]="busForm" (ngSubmit)="save()">
                <!-- Fila 1: Patente y Marca -->
                <div class="row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
                    <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label>Patente</mat-label>
                        <input matInput formControlName="plate" [readonly]="isEditMode" placeholder="XXX-000 o XX 000 XX"/>
                        @if(busForm.get('plate')?.hasError('required'))
                        {
                        <mat-error>
                            La Patente es obligatoria
                        </mat-error>
                        }
                        @if(busForm.get('plate')?.hasError('pattern'))
                        {
                        <mat-error>
                            Los formatos permitidos son: XXX-000 o XX 000 XX
                        </mat-error>
                        }
                    </mat-form-field>

                    <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label>Marca</mat-label>
                        <input matInput formControlName="brand" />
                    </mat-form-field>
                </div>

                <!-- BotÃ³n -->
                <div style="text-align: end; margin-top: 16px;">
                    <button mat-raised-button color="primary" type="submit">
                        {{ isEditMode ? 'Actualizar' : 'Agregar' }}
                    </button>
                </div>
            </form>
        </mat-card-content>

        @if (error)
        {
        <p class="error-text">{{ error }}</p>
        }
    </mat-card>
</div>